<div class="row" ng-controller="groupDetailsController as groupDetailsC" ng-init="groupDetailsC.connect()">
    <style>
    .card .card-action {
        padding: 0px;
    }
    
    .card .card-action input {
        width: 86%;
        margin-bottom: 0px;
        font-size: 1.3rem;
    }
    
    .card .card-action span .material-icons {
        margin-left: 1.3rem;
        margin-top: 1rem;
        cursor: pointer;
    }
    /* .card .comment-box .comment span {
        display: block;
        text-indent: -4rem;
        margin-left: 5rem;
    } */
    
    .comment-box {
        margin-left: 3rem;
    }
    
    .card .card-action span.comment-data {
        max-height: 20px;
        overflow: hidden;
    }
    
    .post {
        margin-top: .6rem;
    }
    
    .commentor {
        margin-left: 3.8rem;
        margin-top: -3.0rem;
        display: block;
    }
    
    .comment_data {
        margin-left: 3.8rem;
    }
    
    .comment {
        margin-top: 0.7rem;
    }
    #post_div {
        margin: 10px;
        padding: 10px;
    }
    </style>
    <div id="post_div" class="z-depth-2">
        <div class="row" style="margin-bottom: 0;">
            <div class="input-field col s12">
                <textarea id="post_insert" class="materialize-textarea" ng-model="groupDetailsC.post_content"></textarea>
                <label for="post_insert">Ventilate Your Bright Ideas...</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s4 m2 l2 right" style="margin: 0;">
                <a class="waves-effect waves-light btn indigo lighten-1" ng-click="groupDetailsC.insertPost()" style="width:100%;margin-top:4px;">Say</a>
            </div>
            <div class="input-field col s4 m2 l2 right" style="margin: 0;">
                <select id="post_type" name="privacy" class="browser-default" ng-model="groupDetailsC.priv">
                    <option value="private" selected>Private</option>
                    <option value="public">Public</option>
                </select>
            </div>
        </div>
    </div>
    <div class="col s12" ng-repeat="post in groupDetailsC.clubPosts  | orderBy:'-createdAt' track by $index">
        <div class="card collection hoverable">
            <div class="card-content black-text collection-item avatar">
                <img ng-src="{{post.user.photo}}" onerror="if (this.src != './images/default_user.jpg') this.src = './images/default_user.jpg';" alt="" class="circle">
                <span><a href="#/users/{{post.user.id}}">{{post.user.name}}</a>  </span>
                <div class="divider"></div>
                <div class="post">
                    <p>{{post.post}}</p>
                </div>
            </div>
            <div class="comment-box" id="{{post.id}}">
                <div class="comment" ng-repeat="comment in post.comments">
                    <img ng-src="http://digiclubs.westus.cloudapp.azure.com/images/profile/{{comment.user}}.jpg" onerror="if (this.src != './images/default_user.jpg') this.src = './images/default_user.jpg';" alt="" class="circle" style="height:42px;width:42px;margin-top:4px">
                    <span class="commentor"><a href="#/users/{{comment.user}}">{{comment.name}}</a> </span>
                    <div class="comment_data">
                        {{comment.comment}}
                    </div>
                    <!-- <div class="divider"></div> -->
                </div>
            </div>
            <div class="card-action">
                <input type="text" style="width:77%;margin-bottom:0" ng-model="groupDetailsC.comment[$index]"><a ng-class="{disabled: groupDetailsC.btnDisabled}" class="btn" ng-click="groupDetailsC.doComment(groupDetailsC.comment[$index],$index,post.id,post.privacy);"><i class="small material-icons">send</i></a>
            </div>
        </div>
    </div>
</div>
<!-- Adding a an event -->
<div class="fixed-action-btn" style="bottom: 120px; right: 24px;">
    <a class="btn btn-floating btn-large  indigo darken-1 " href="#/addClub"><i class="material-icons" data-target="add_club">add_circle_outline</i></a></li>
</div>
<div class="fixed-action-btn" tyle="bottom: 40px; right: 24px;">
    <a class="btn btn-large btn-floating indigo darken-1 " href="{{groupDetailsC.addEventUrl}}" s><i class="material-icons" >note_add</i></a>
</div>
<!-- Add Event Modal Structure -->
<!-- Modal for adding club -->
</div>
